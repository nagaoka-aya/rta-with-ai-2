# WA10201/プロジェクト登録

|項目|内容|作成者|日付|
|---|---|---|---|
|作成|TIS|2019/05/13||
|変更|TIS|2022/12/13||

|項目|内容|
|---|---|
|システム名|サンプルシステム|
|サブシステム名|プロジェクト管理システム|

## 3. WA1020102(プロジェクト登録確認画面)

### 3.1. 画面レイアウト

### 3.2. 一覧表示

|No.|領域名|ページング有無|ソート条件|備考|
|---|---|---|---|---|
|1|‐|‐|‐|‐|

### 3.3. 画面項目定義

#### 領域名：プロジェクト情報入力

|No.|画面項目名|画面項目種別|情報取得元|編集仕様|初期値|必須|ドメイン名|画面項目名（物理）|
|---|---|---|---|---|---|---|---|---|
|1|事業部|label|-|組織IDに対する組織名<br>※組織マスタに当該組織IDが存在しない場合は空白|-|○|組織ID|-|
|2|部門|label|-|組織IDに対する組織名<br>※組織マスタに当該組織IDが存在しない場合は空白|-|○|組織ID|-|
|3|PJ名|label|-|-|-|○|プロジェクト名|-|
|4|PJ種別|label|-|PJ種別コードに対するPJ種別名|-|○|プロジェクト種別|-|
|5|PJ分類|label|-|PJ分類コードに対するPJ分類名|-|○|プロジェクト分類|-|
|6|売上高(千円)|label|-|＜表示変換:10進数変換＞<br>3桁ごとにカンマ区切りを表示する。|-|-|金額|-|
|7|顧客|label|-|顧客IDに対する顧客名|-|○|顧客名|-|
|8|PM|label|-|-|-|○|ユーザ氏名（漢字）|-|
|9|PL|label|-|-|-|○|ユーザ氏名（漢字）|-|
|10|開始日|label|-|＜表示変換:日付変換＞<br>yyyy/MM/dd|-|○|日付|-|
|11|終了日|label|-|＜表示変換:日付変換＞<br>yyyy/MM/dd|-|○|日付|-|
|12|備考|label|-|改行が含まれる場合は改行を再現すること。|-|-|備考|-|

[hidden項目一覧]

|No.|画面項目名|画面項目種別|必須|ドメイン名|画面項目名（物理）|
|---|---|---|---|---|---|
|13|事業部|hidden|○|組織ID|divisionId|
|14|部門|hidden|○|組織ID|organizationId|
|15|PJ名|hidden|○|プロジェクト名|projectName|
|16|PJ種別|hidden|○|プロジェクト種別|projectType|
|17|PJ分類|hidden|○|プロジェクト分類|projectClass|
|18|売上高(千円)|hidden|-|金額|sales|
|19|顧客|hidden|○|顧客ID|clientId|
|20|PM|hidden|○|ユーザ氏名（漢字）|projectManager|
|21|PL|hidden|○|ユーザ氏名（漢字）|projectLeader|
|22|開始日|hidden|○|日付|projectStartDate|
|23|終了日|hidden|○|日付|projectEndDate|
|24|備考|hidden|-|備考|note|

### 3.4. 入出力一覧

|No.|入出力名|種別|I/O|DBアクセス種別|備考|
|---|---|---|---|---|---|
|1|プロジェクト|テーブル|O|C|-|-|
|2|組織|テーブル|I|-|R|-|

### 3.5. 画面イベント一覧

|No.|画面イベント名|発生タイミング|画面イベント概要|正常時遷移先画面|サーバ通信有無|
|---|---|---|---|---|---|
|1|登録|「登録」ボタン押下|当画面に表示していた内容をデータベースに登録する。|プロジェクト登録完了|あり(同期)|
|2|戻る|「戻る」ボタン押下|当画面に表示していた内容を登録画面に表示する。|プロジェクト登録|あり(同期)|

### 3.6. 画面イベント詳細

#### 3.6.1. 登録イベント

##### (1) バリデーション処理

「2. WA1020101(プロジェクト登録画面) > 2.6.5. 確認イベント > (1) バリデーション処理」と同様のバリデーションを行う。

上記バリデーションにおいて一箇所でもエラーが発生した場合、プロジェクト登録画面に指摘内容を表示し、後続の処理は実施しない。

##### (2) DBアクセス（登録、更新処理）

表示内容をデータベースに登録する。登録仕様については下記の通り。

プロジェクトテーブル

|No.|出力項目名|情報取得元|項目名|編集仕様|備考|
|---|---|---|---|---|---|
|1|プロジェクトID|DBによる自動採番|プロジェクトID|‐||
|2|プロジェクト名|プロジェクト登録画面|PJ名|‐||
|3|プロジェクト種別|-|PJ種別|‐||
|4|プロジェクト分類|-|PJ分類|‐||
|5|プロジェクト開始日付|-|開始日|‐||
|6|プロジェクト終了日付|-|終了日付|‐||
|7|部門ID|-|部門|‐||
|8|顧客ID|-|顧客|‐||
|9|プロジェクトマネージャー|-|PM|‐||
|10|プロジェクトリーダー|-|PL|‐||
|11|備考|-|備考|‐||
|12|売上高|-|売上高|‐||
|13|バージョン番号|-|-|「1」固定||

##### (3) 表示処理

プロジェクト登録完了画面を表示する。画面レイアウト、表示項目については「4. プロジェクト登録完了画面」を参照。

#### 3.6.2. 戻るイベント

##### (1) 表示処理

当画面に表示していた内容をプロジェクト登録画面に表示する。画面レイアウト、表示項目については「2. プロジェクト登録画面」を参照。